var $j=jQuery.noConflict();!function(e,t,s,i){function n(t,s){this.element=t,this.resultElement=null,this.options=e.extend({},a,s),this._defaults=a,this._name=l,this.apiUrl="https://secondary.api.leadspend.com/v2/validity/",this._jsonpValidateEmail=function(t){e.getJSON(this.apiUrl+encodeURIComponent(t)+"?timeout="+this.options.timeout+"&callback=?",null).done(e.proxy(this._jsonpValidateEmailDone,this)).fail(e.proxy(this._jsonpValidateEmailFail,this))},this._jsonpValidateEmailDone=function(t,s,i){this.options.debug&&console.log(t),this._setResultPending(!1),e(this.resultElement).val(t.result)},this._jsonpValidateEmailFail=function(t,s,i){this.options.debug&&(console.log("LeadSpend API Call Failed.  Logging jqXHR, textStatus, and errorThrown:"),console.log(t),console.log(s),console.log(i)),this._setResultPending(!1),e(this.resultElement).val("error")},this._createResultElement=function(){elementID=e(this.element).attr("id"),elementName=e(this.element).attr("name"),resultElementID=elementID?elementID+this.options.resultInputSuffix:"",resultElementName=elementName?elementName+this.options.resultInputSuffix:"",resultElementClass="leadSpendEmail"+this.options.resultInputSuffix,resultElementHtml='<input class="'+resultElementClass+'" id="'+resultElementID+'" name="'+resultElementName+'">',this.resultElement=e(resultElementHtml),this.resultElement.hide(),e(this.element).after(this.resultElement)},this._setResultPending=function(t){t?(this.resultPending=!0,e(this.resultElement).val("pending")):this.resultPending=!1},this._isResultPending=function(){return this.resultPending},this._setResultAddress=function(e){this.resultAddress=e},this._getResultAddress=function(){return this.resultAddress},this.validateEmailInput=function(){emailAddress=e(this.element).val(),-1!=emailAddress.indexOf("@")&&-1!=emailAddress.indexOf(".")&&emailAddress.indexOf("@")<emailAddress.lastIndexOf(".")&&(this.resultElement||this._createResultElement(),emailAddress!=this._getResultAddress()&&(this._setResultPending(!0),this._setResultAddress(emailAddress),this._jsonpValidateEmail(emailAddress)))},this.init()}var l="leadSpendEmail",a={timeout:5,resultInputSuffix:"-result",debug:!1};n.prototype.init=function(){return e(this.element).on("focusout",e.proxy(this.validateEmailInput,this))},e.fn[l]=function(t){return this.each(function(){e.data(this,"plugin_"+l)?t&&(e.data(this,"plugin_"+l).options=e.extend({},e.data(this,"plugin_"+l).options,t)):e.data(this,"plugin_"+l,new n(this,t))})}}(jQuery,window,document),$j(document).ready(function(){$j(".leadSpendEmail").leadSpendEmail()});